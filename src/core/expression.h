#ifndef __COOLWORK_EXPRESSION__
#define __COOLWORK_EXPRESSION__

#include <etc.h>

///////////////////////////////////////////////////////////////////////////////////////////////////
///Выражение для вычисления формул
///////////////////////////////////////////////////////////////////////////////////////////////////
class Expression
{
  public:
    Expression  (Var&);
    ~Expression ();
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Установка выражения
///////////////////////////////////////////////////////////////////////////////////////////////////    
    void set (const char* expression);
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Вычисление
///////////////////////////////////////////////////////////////////////////////////////////////////        
    vec3f compute ();
    
///////////////////////////////////////////////////////////////////////////////////////////////////
///Исходное выражение
///////////////////////////////////////////////////////////////////////////////////////////////////            
    const char* source ();
  
  private:
    struct Impl;
    Impl* impl;      
};

#endif
